
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Trading Dashboard Pro</title>
    <link rel="stylesheet" href="/static/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
</head>
<body>
    <div class="header">
        <nav class="navbar">
            <div class="nav-brand">
                <h1>üöÄ Crypto Trading Dashboard Pro</h1>
            </div>
            <div class="nav-menu">
                <button class="nav-btn" id="portfolio-btn">üí∞ Portfolio</button>
                <button class="nav-btn" id="alerts-btn">üîî Alertes</button>
                <button class="nav-btn" id="news-btn">üì∞ Actualit√©s</button>
                <button class="nav-btn" id="tools-btn">üîß Outils</button>
                <button class="nav-btn" id="settings-btn">‚öôÔ∏è Param√®tres</button>
                <button class="nav-btn" id="profile-btn">üë§ Profil</button>
                <button class="nav-btn" id="login-btn">üîê Connexion</button>
            </div>
        </nav>
        
        <!-- Barre d'outils principale -->
        <div class="toolbar">
            <div class="search-container">
                <input type="text" id="crypto-search" placeholder="üîç Rechercher une crypto..." class="search-input">
                <div id="search-results" class="search-results"></div>
            </div>
            <div class="toolbar-actions">
                <button class="tool-btn" id="favorites-btn">‚≠ê Favoris</button>
                <button class="tool-btn" id="compare-btn">‚öñÔ∏è Comparer</button>
                <button class="tool-btn" id="calculator-btn">üßÆ Calculatrice</button>
                <button class="tool-btn" id="export-btn">üìä Exporter</button>
                <select id="view-mode" class="view-selector">
                    <option value="grid">üî≤ Grille</option>
                    <option value="table">üìã Tableau</option>
                    <option value="compact">üì± Compact</option>
                </select>
            </div>
        </div>
        
        <div id="status" class="status disconnected">Connexion en cours...</div>
    </div>

    <!-- Market Overview -->
    <div class="market-overview">
        <div class="market-stat">
            <div class="stat-label">Cap. March√© Total</div>
            <div class="stat-value" id="total-market-cap">$0</div>
            <div class="stat-change" id="market-cap-change">0%</div>
        </div>
        <div class="market-stat">
            <div class="stat-label">Volume 24h</div>
            <div class="stat-value" id="total-volume">$0</div>
            <div class="stat-change" id="volume-change">0%</div>
        </div>
        <div class="market-stat">
            <div class="stat-label">Dominance BTC</div>
            <div class="stat-value" id="btc-dominance">0%</div>
        </div>
        <div class="market-stat">
            <div class="stat-label">Fear & Greed</div>
            <div class="stat-value" id="fear-greed">50</div>
            <div class="fear-greed-indicator" id="fear-greed-indicator"></div>
        </div>
    </div>

    <!-- Modal Portfolio -->
    <div id="portfolio-modal" class="modal">
        <div class="modal-content large-modal">
            <span class="close" id="close-portfolio">&times;</span>
            <h2>üí∞ Mon Portfolio</h2>
            <div class="portfolio-summary">
                <div class="portfolio-stat">
                    <h3>Valeur Totale</h3>
                    <div class="portfolio-value" id="total-portfolio-value">$0.00</div>
                </div>
                <div class="portfolio-stat">
                    <h3>P&L 24h</h3>
                    <div class="portfolio-change" id="portfolio-24h-change">$0.00 (0%)</div>
                </div>
                <div class="portfolio-stat">
                    <h3>P&L Total</h3>
                    <div class="portfolio-change" id="portfolio-total-change">$0.00 (0%)</div>
                </div>
            </div>
            <div class="portfolio-actions">
                <button class="btn-primary" id="add-transaction-btn">‚ûï Ajouter Transaction</button>
                <button class="btn-secondary" id="export-portfolio-btn">üìä Exporter Portfolio</button>
            </div>
            <div id="portfolio-chart-container" class="chart-container-large">
                <canvas id="portfolio-chart"></canvas>
            </div>
            <div class="portfolio-holdings">
                <h3>Mes Holdings</h3>
                <div id="holdings-table" class="holdings-table"></div>
            </div>
        </div>
    </div>

    <!-- Modal Alertes -->
    <div id="alerts-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="close-alerts">&times;</span>
            <h2>üîî Alertes de Prix</h2>
            <div class="alerts-actions">
                <button class="btn-primary" id="create-alert-btn">‚ûï Cr√©er Alerte</button>
            </div>
            <div id="alerts-list" class="alerts-list"></div>
        </div>
    </div>

    <!-- Modal Actualit√©s -->
    <div id="news-modal" class="modal">
        <div class="modal-content large-modal">
            <span class="close" id="close-news">&times;</span>
            <h2>üì∞ Actualit√©s Crypto</h2>
            <div class="news-filters">
                <select id="news-category">
                    <option value="all">Toutes les cat√©gories</option>
                    <option value="bitcoin">Bitcoin</option>
                    <option value="ethereum">Ethereum</option>
                    <option value="defi">DeFi</option>
                    <option value="nft">NFT</option>
                </select>
                <button class="btn-secondary" id="refresh-news-btn">üîÑ Actualiser</button>
            </div>
            <div id="news-list" class="news-list"></div>
        </div>
    </div>

    <!-- Modal Outils -->
    <div id="tools-modal" class="modal">
        <div class="modal-content large-modal">
            <span class="close" id="close-tools">&times;</span>
            <h2>üîß Outils de Trading</h2>
            <div class="tools-grid">
                <div class="tool-card">
                    <h3>üí± Convertisseur</h3>
                    <div class="converter">
                        <input type="number" id="convert-amount" placeholder="Montant">
                        <select id="convert-from">
                            <option value="btc">Bitcoin</option>
                            <option value="eth">Ethereum</option>
                            <option value="usd">USD</option>
                            <option value="eur">EUR</option>
                        </select>
                        <span>‚Üí</span>
                        <select id="convert-to">
                            <option value="usd">USD</option>
                            <option value="eur">EUR</option>
                            <option value="btc">Bitcoin</option>
                            <option value="eth">Ethereum</option>
                        </select>
                        <div class="conversion-result" id="conversion-result">0</div>
                    </div>
                </div>
                <div class="tool-card">
                    <h3>üßÆ Calculatrice P&L</h3>
                    <div class="pnl-calculator">
                        <input type="number" id="buy-price" placeholder="Prix d'achat">
                        <input type="number" id="sell-price" placeholder="Prix de vente">
                        <input type="number" id="quantity" placeholder="Quantit√©">
                        <button class="btn-primary" id="calculate-pnl">Calculer</button>
                        <div class="pnl-result" id="pnl-result"></div>
                    </div>
                </div>
                <div class="tool-card">
                    <h3>üìä Analyse Technique</h3>
                    <div class="technical-analysis">
                        <select id="ta-crypto">
                            <option value="bitcoin">Bitcoin</option>
                            <option value="ethereum">Ethereum</option>
                        </select>
                        <div class="ta-indicators">
                            <div class="indicator">
                                <span>RSI (14):</span>
                                <span id="rsi-value">-</span>
                            </div>
                            <div class="indicator">
                                <span>MACD:</span>
                                <span id="macd-value">-</span>
                            </div>
                            <div class="indicator">
                                <span>MA (20):</span>
                                <span id="ma20-value">-</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tool-card">
                    <h3>üéØ Support/R√©sistance</h3>
                    <div class="support-resistance">
                        <div class="sr-level resistance">
                            <span>R√©sistance:</span>
                            <span id="resistance-level">$0</span>
                        </div>
                        <div class="sr-level support">
                            <span>Support:</span>
                            <span id="support-level">$0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Transaction -->
    <div id="transaction-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="close-transaction">&times;</span>
            <h2>üí∞ Ajouter Transaction</h2>
            <form id="transaction-form">
                <div class="form-group">
                    <label>Type de transaction:</label>
                    <select id="transaction-type" required>
                        <option value="buy">üü¢ Achat</option>
                        <option value="sell">üî¥ Vente</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Crypto-monnaie:</label>
                    <select id="transaction-crypto" required>
                        <option value="bitcoin">Bitcoin (BTC)</option>
                        <option value="ethereum">Ethereum (ETH)</option>
                        <option value="binancecoin">Binance Coin (BNB)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Quantit√©:</label>
                    <input type="number" id="transaction-quantity" step="0.00000001" required>
                </div>
                <div class="form-group">
                    <label>Prix unitaire ($):</label>
                    <input type="number" id="transaction-price" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>Date:</label>
                    <input type="datetime-local" id="transaction-date" required>
                </div>
                <div class="form-group">
                    <label>Frais ($):</label>
                    <input type="number" id="transaction-fees" step="0.01" value="0">
                </div>
                <div class="form-group">
                    <label>Notes:</label>
                    <textarea id="transaction-notes" placeholder="Notes optionnelles..."></textarea>
                </div>
                <button type="submit" class="btn-primary">üíæ Sauvegarder</button>
            </form>
        </div>
    </div>

    <!-- Modal Comparaison -->
    <div id="compare-modal" class="modal">
        <div class="modal-content large-modal">
            <span class="close" id="close-compare">&times;</span>
            <h2>‚öñÔ∏è Comparaison de Cryptos</h2>
            <div class="compare-selection">
                <select id="compare-crypto1">
                    <option value="">S√©lectionner crypto 1</option>
                </select>
                <select id="compare-crypto2">
                    <option value="">S√©lectionner crypto 2</option>
                </select>
                <button class="btn-primary" id="start-compare">Comparer</button>
            </div>
            <div id="comparison-result" class="comparison-result"></div>
        </div>
    </div>

    <!-- Modal Login -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="close-login">&times;</span>
            <h2>üîê Connexion</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="username">Nom d'utilisateur:</label>
                    <input type="text" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Mot de passe:</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit" class="btn-primary">Se connecter</button>
                <button type="button" class="btn-secondary" id="register-btn">S'inscrire</button>
            </form>
        </div>
    </div>

    <!-- Modal Profil -->
    <div id="profile-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="close-profile">&times;</span>
            <h2>üë§ Profil Utilisateur</h2>
            <div id="profile-view">
                <div class="profile-info">
                    <div class="profile-avatar">üë§</div>
                    <h3 id="profile-name">Utilisateur</h3>
                    <p id="profile-email">email@exemple.com</p>
                    <p id="profile-member-since">Membre depuis: Janvier 2024</p>
                    <div class="profile-stats">
                        <div class="profile-stat">
                            <span>Transactions:</span>
                            <span id="profile-transactions">0</span>
                        </div>
                        <div class="profile-stat">
                            <span>Portfolio:</span>
                            <span id="profile-portfolio-value">$0</span>
                        </div>
                    </div>
                </div>
                <button class="btn-primary" id="edit-profile-btn">Modifier le profil</button>
                <button class="btn-secondary" id="logout-btn">Se d√©connecter</button>
            </div>
            <div id="profile-edit" style="display: none;">
                <form id="profile-form">
                    <div class="form-group">
                        <label for="edit-name">Nom:</label>
                        <input type="text" id="edit-name" name="name">
                    </div>
                    <div class="form-group">
                        <label for="edit-email">Email:</label>
                        <input type="email" id="edit-email" name="email">
                    </div>
                    <div class="form-group">
                        <label for="edit-bio">Bio:</label>
                        <textarea id="edit-bio" name="bio" placeholder="Parlez-nous de vous..."></textarea>
                    </div>
                    <button type="submit" class="btn-primary">Sauvegarder</button>
                    <button type="button" class="btn-secondary" id="cancel-edit-btn">Annuler</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Param√®tres -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="close-settings">&times;</span>
            <h2>‚öôÔ∏è Param√®tres</h2>
            <div class="settings-tabs">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="display">üé® Affichage</button>
                    <button class="tab-btn" data-tab="notifications">üîî Notifications</button>
                    <button class="tab-btn" data-tab="trading">üí∞ Trading</button>
                    <button class="tab-btn" data-tab="data">üìä Donn√©es</button>
                </div>
                
                <div class="tab-content active" id="display-tab">
                    <div class="form-group">
                        <label for="theme-select">Th√®me:</label>
                        <select id="theme-select">
                            <option value="dark">üåô Sombre</option>
                            <option value="light">‚òÄÔ∏è Clair</option>
                            <option value="auto">üîÑ Automatique</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="currency-select">Devise principale:</label>
                        <select id="currency-select">
                            <option value="usd">üíµ USD ($)</option>
                            <option value="eur">üí∂ EUR (‚Ç¨)</option>
                            <option value="btc">‚Çø BTC</option>
                            <option value="eth">‚ß´ ETH</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="animations-enabled"> Animations activ√©es
                        </label>
                    </div>
                </div>
                
                <div class="tab-content" id="notifications-tab">
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="price-alerts"> üìà Alertes de prix
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="market-alerts"> üìä Alertes de march√©
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="news-notifications"> üì∞ Notifications d'actualit√©s
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="email-notifications"> üìß Notifications par email
                        </label>
                    </div>
                </div>
                
                <div class="tab-content" id="trading-tab">
                    <div class="form-group">
                        <label for="default-exchange">Exchange par d√©faut:</label>
                        <select id="default-exchange">
                            <option value="binance">Binance</option>
                            <option value="coinbase">Coinbase</option>
                            <option value="kraken">Kraken</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="auto-refresh"> üîÑ Actualisation automatique
                        </label>
                    </div>
                    <div class="form-group">
                        <label for="refresh-interval">Intervalle de mise √† jour (secondes):</label>
                        <input type="number" id="refresh-interval" min="1" max="60" value="5">
                    </div>
                </div>
                
                <div class="tab-content" id="data-tab">
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="save-locally"> üíæ Sauvegarder localement
                        </label>
                    </div>
                    <div class="form-group">
                        <button class="btn-secondary" id="export-settings">üì§ Exporter param√®tres</button>
                        <button class="btn-secondary" id="import-settings">üì• Importer param√®tres</button>
                    </div>
                    <div class="form-group">
                        <button class="btn-danger" id="clear-data">üóëÔ∏è Effacer toutes les donn√©es</button>
                    </div>
                </div>
            </div>
            <button class="btn-primary" id="save-settings-btn">üíæ Sauvegarder les param√®tres</button>
        </div>
    </div>
    
    <!-- Affichage principal -->
    <div id="main-content">
        <div id="crypto-grid" class="crypto-grid">
            <!-- Les cartes crypto seront g√©n√©r√©es dynamiquement -->
        </div>
        
        <div id="crypto-table" class="crypto-table" style="display: none;">
            <table>
                <thead>
                    <tr>
                        <th>‚≠ê</th>
                        <th>Crypto</th>
                        <th>Prix</th>
                        <th>24h %</th>
                        <th>7j %</th>
                        <th>Volume 24h</th>
                        <th>Market Cap</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="crypto-table-body">
                </tbody>
            </table>
        </div>
    </div>

    <!-- Notifications Toast -->
    <div id="notifications-container" class="notifications-container"></div>

    <script src="/static/app.js"></script>
</body>
</html>
